<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="stock_inventory_wizard_view_form" model="ir.ui.view">
        <field name="name">stock.inventory.wizard.view.form</field>
        <field name="model">stock.inventory.wizard</field>
        <field name="arch" type="xml">
            <form class="stock_inventory_wizard_view_form">
                <field name="valid" invisible="1"/>
                <field name="filename" invisible="1"/>
                
                <i>
                    <p style="margin-bottom: 0;" invisible="message or file">
                        Veuillez charger un fichier Excel
                    </p>
                </i>
                <i>
                    <p style="margin-bottom: 0;" invisible="message or not file">
                        Veuillez vérifier le contenu chargé avant de continuer
                    </p>
                </i>

                <field name="message" widget="html" readonly="1" invisible="not message"/>

                <footer>
                    <field name="file" filename="filename" class="oe_inline"/>
                    
                    <button string="Vérifier" type="object" name="button_check" 
                            class="btn-primary" 
                            invisible="valid or not file"/>
                    
                    <button string="Créer" type="object" name="button_create" 
                            class="btn-success" 
                            invisible="not valid"/>
                    
                    <button string="Annuler" class="btn-secondary" special="cancel" data-hotkey="z"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="stock_inventory_wizard_action" model="ir.actions.act_window">
        <field name="name">Ajustement de l'inventaire – Excel</field>
        <field name="res_model">stock.inventory.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>

    <menuitem
        id="stock_inventory_wizard_menu"
        name="Ajustement de l'inventaire – Excel"
        parent="stock.menu_stock_warehouse_mgmt"
        action="stock_inventory_wizard_action"
        sequence="20"
    />
</odoo>