<odoo>
    <record id="action_hr_assignment_requests_server" model="ir.actions.server">
        <field name="name">Demandes</field>
        <field name="model_id" ref="hr_assignment.model_hr_assignment_request"/>
        <field name="state">code</field>
        <field name="code">action = model.action_get_user_hr_assignment_requests("RH_VISUALISATION")</field>
    </record>

    <record id="hr_assignment_hr_views_action" model="ir.actions.server">
        <field name="name">Affectations</field>
        <field name="model_id" ref="hr_assignment.model_hr_assignment"/>
        <field name="state">code</field>
        <field name="code">action = model.action_get_user_hr_assignments("RH_VISUALISATION")</field>
    </record>

    <record id="action_sotaserv_article_opc" model="ir.actions.act_window">
        <field name="name">Articles</field>
        <field name="res_model">product.product</field>
        <field name="view_mode">kanban,list,form,activity</field>
        <field name="context">{'create': 0, 'delete': 0, 'edit': 0,}</field>
    </record>

    <record id="purchase_request_opc_action" model="ir.actions.server">
        <field name="name">Demandes d'achat</field>
        <field name="model_id" ref="purchase_request.model_purchase_request"/>
        <field name="state">code</field>
        <field name="code">action = model.action_get_user_purchase_requests("SOTASERV_OPC", True, True)</field>
    </record>

    <record id="purchase_request_line_opc_action" model="ir.actions.server">
        <field name="name">Lignes de demande d'achat</field>
        <field name="model_id" ref="purchase_request.model_purchase_request_line"/>
        <field name="state">code</field>
        <field name="code">action = model.action_get_user_purchase_request_lines("SOTASERV_OPC")</field>
    </record>

    <record id="opc_purchase_order_action_no_attachment" model="ir.actions.act_window">
        <field name="name">Bons de Commande sans Attachement</field>
        <field name="res_model">purchase.order</field>
        <field name="view_mode">list,form</field>
        <field name="search_view_id" ref="purchase_plus.purchase_order_view_search"/>
        <field name="view_ids" eval="[
            (5, 0, 0), 
            (0, 0, {'view_mode': 'list', 'view_id': ref('purchase.purchase_order_view_tree')}), 
            (0, 0, {'view_mode': 'form', 'view_id': ref('purchase.purchase_order_form')})
        ]"/>
        <field name="context">
            {
                "delete": False,
                "create": False,
                "edit": False,
                "hide_actions": True,
                "hide_field": "state_2",
                "search_default_group_by_state": True,
            }
        </field>
        <field name="domain">
            [
                "&amp;",
                ("is_attachment", "=", False),
                ("state", "in", ["purchase", "done", "partial", "full", "po_canceled"]),
            ]
        </field>
    </record>

    <record id="opc_purchase_order_action_attachment" model="ir.actions.act_window">
        <field name="name">Bons de Commande avec Attachement</field>
        <field name="res_model">purchase.order</field>
        <field name="view_mode">list,form</field>
        <field name="search_view_id" ref="purchase_plus.purchase_order_view_search"/>
        <field name="view_ids" eval="[
            (5, 0, 0), 
            (0, 0, {'view_mode': 'list', 'view_id': ref('purchase_plus.purchase_order_tree')}), 
            (0, 0, {'view_mode': 'form', 'view_id': ref('purchase_plus.purchase_order_line_attachment_form')})
        ]"/>
        <field name="context">
            {
                "delete": False,
                "create": False,
                "edit": False,
                "hide_actions":True,
                "hide_field": "state",
                "show_search_filter_state_2": True,
                "search_default_group_by_state_2": True,
            }
        </field>
        <field name="domain">
            [
                "&amp;",
                ("is_attachment", "=", True),
                ("state", "in", ["purchase", "done", "full", "po_canceled", "partial"]),
            ]
        </field>       
    </record>

    <record id="action_crm_lead_opportunities" model="ir.actions.act_window">
        <field name="name">Opportunit√©s</field>
        <field name="res_model">crm.lead</field>
        <field name="view_mode">kanban,list,graph,pivot,form,calendar,activity</field>
        <field name="domain">[('type','=','opportunity')]</field>
        <field name="context">{'create': 0, 'delete': 0, 'edit': 0, 'default_type': 'opportunity'}</field>
        <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'kanban', 'view_id': ref('crm.crm_case_kanban_view_leads')}),
                (0, 0, {'view_mode': 'list', 'view_id': ref('crm.crm_case_tree_view_oppor')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('building.view_crm_lead_form_inherit')}),
                (0, 0, {'view_mode': 'graph', 'view_id': ref('crm.crm_lead_view_graph')}),
                (0, 0, {'view_mode': 'pivot', 'view_id': ref('crm.crm_lead_view_pivot')}),
                (0, 0, {'view_mode': 'calendar', 'view_id': ref('crm.crm_case_calendar_view_leads')})
            ]"/>
        <field name="search_view_id" ref="crm.view_crm_case_opportunities_filter"/>
    </record>

    <record id="action_ops_sites" model="ir.actions.act_window">
        <field name="name">Affaires</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">building.site</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[('is_with_purchase_need', '=', 1)]</field>
        <field name="context">{'create': 0, 'delete': 0, 'edit': 0,}</field>
        <field name="search_view_id" ref="building.building_site_filter" />
        <field name="view_id" ref="" />
         <field name="view_ids" eval="[(5, 0, 0),
                (0, 0, {'view_mode': 'list', 'view_id': ref('building.building_site_tree_view')}),
                (0, 0, {'view_mode': 'form', 'view_id': ref('building_plus.building_site_without_need_form_view')})]"/>
    </record>

    <record id="building_purchase_need_opc_action" model="ir.actions.act_window">
        <field name="name">Liste des besoins</field>
        <field name="res_model">building.purchase.need</field>
        <field name="domain">[('is_template','!=',True)]</field>
        <field name="context">{'create': 0, 'delete': 0, 'edit': 0,}</field>
        <field name="view_mode">list,form</field>
        <field name="search_view_id" ref="building.building_purchase_need_filter" />
        <field name="view_ids"
            eval="[(5, 0, 0),
                    (0, 0, {'view_mode': 'list', 'view_id': ref('building.building_purchase_need_tree')}),
                    (0, 0, {'view_mode': 'form', 'view_id': ref('building.view_purchase_need_form_inherit')})]" />
    </record>

    <record id="hr_assignment_opc_action" model="ir.actions.server">
        <field name="name">Affectations</field>
        <field name="model_id" ref="hr_assignment.model_hr_assignment"/>
        <field name="state">code</field>
        <field name="code">action = model.action_get_user_hr_assignments("SOTASERV_OPC")</field>
    </record>

    <record id="material_assignment_opc_action" model="ir.actions.server">
        <field name="name">Affectations</field>
        <field name="model_id" ref="building.model_building_assignment_line"/>
        <field name="state">code</field>
        <field name="code">action = model.action_open_user_building_assignment_line("SOTASERV_OPC")</field>
    </record>

    <record id="small_material_assignment_opc_action" model="ir.actions.server">
        <field name="name">Affectations</field>
        <field name="model_id" ref="stock.model_stock_picking"/>
        <field name="state">code</field>
        <field name="code">action = model.action_open_user_stock_picking_log("SOTASERV_OPC")</field>
    </record>
</odoo>