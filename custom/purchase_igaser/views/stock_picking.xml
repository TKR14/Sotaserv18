<?xml version="1.0"?>
<odoo>

    <record id="stock_picking_delivery_slip_tree" model="ir.ui.view">
        <field name="name">stock.picking.list</field>
        <field name="model">stock.picking</field>
        <field name="arch" type="xml">
            <list string="Bons de livraison">
                <field name="priority" optional="show" widget="priority" nolabel="1"/>
                <field name="name" decoration-bf="1"/>
                <field name="location_id" options="{'no_create': True}" string="From" groups="stock.group_stock_multi_locations" optional="show"/>
                <field name="location_dest_id" options="{'no_create': True}" string="To" groups="stock.group_stock_multi_locations" optional="show"/>
                <field name="partner_id" optional="show"/>
                <field name="signature" string="Signed" optional="hide" groups="stock.group_stock_sign_delivery"/>
                <field name="user_id" optional="hide" widget="many2one_avatar_user"/>
                
                <field name="scheduled_date" optional="show" widget="remaining_days" 
                       invisible="state in ['done', 'cancel']"/>
                
                <field name="date_deadline" optional="hide" widget="remaining_days" 
                       invisible="state in ['done', 'cancel']"/>
                
                <field name="origin" optional="show"/>
                <field name="group_id" column_invisible="True"/>
                <field name="backorder_id" optional="hide"/>
                <field name="picking_type_id" optional="hide"/>
                <field name="company_id" groups="base.group_multi_company" optional="show"/>
                
                <field name="state" optional="show" widget="badge" 
                       decoration-success="state == 'done'" 
                       decoration-info="state not in ['done', 'cancel']"/>
                
                <field name="activity_exception_decoration" widget="activity_exception"/>
                
                <field name="json_popover" nolabel="1" widget="stock_rescheduling_popover" 
                       invisible="not json_popover"/>
            </list>
        </field>
    </record>

    <record id="stock_picking_delivery_slip_action" model="ir.actions.act_window">
        <field name="res_model">stock.picking</field>
        <field name="name">Bons de livraison</field>
        <field name="view_mode">list,form</field>
        <field name="context">{}</field>
        <field name="domain">[('picking_type_id.sequence_code', '=', 'OUT')]</field>
    </record>

    <menuitem id="stock_picking_delivery_slip_menu" 
              name="Bons de livraison" 
              action="stock_picking_delivery_slip_action" 
              sequence="-1" 
              groups="purchase_igaser.group_stock_picking_delivery_slip"/>

</odoo>